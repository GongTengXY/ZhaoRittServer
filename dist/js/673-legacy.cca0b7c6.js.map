{"version":3,"file":"js/673-legacy.cca0b7c6.js","mappings":"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","sources":["webpack://hmtoutiao/./src/views/My/index.vue?397c","webpack://hmtoutiao/src/views/My/index.vue","webpack://hmtoutiao/./src/views/My/index.vue?14d1","webpack://hmtoutiao/./src/views/My/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.user)?_c('div',{staticClass:\"header user_login\"},[_c('div',{staticClass:\"base_info\"},[_c('div',{staticClass:\"left\"},[_c('van-image',{staticClass:\"headphoto\",attrs:{\"round\":\"\",\"fit\":\"cover\",\"src\":_vm.userInfo.photo}}),_c('span',[_vm._v(_vm._s(_vm.userInfo.name))])],1),_c('div',{staticClass:\"right\"},[_c('van-button',{staticClass:\"edit\",attrs:{\"round\":\"\",\"size\":\"mini\",\"to\":\"/userprofile\"}},[_vm._v(\"编辑资料\")])],1)]),_c('div',{staticClass:\"data_statis\"},[_c('div',{staticClass:\"data_item\"},[_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.userInfo.art_count))]),_c('span',{staticClass:\"text\"},[_vm._v(\"头条\")])]),_c('div',{staticClass:\"data_item\"},[_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.userInfo.follow_count))]),_c('span',{staticClass:\"text\"},[_vm._v(\"关注\")])]),_c('div',{staticClass:\"data_item\"},[_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.userInfo.fans_count))]),_c('span',{staticClass:\"text\"},[_vm._v(\"粉丝\")])]),_c('div',{staticClass:\"data_item\"},[_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.userInfo.like_count))]),_c('span',{staticClass:\"text\"},[_vm._v(\"获赞\")])])])]):_c('div',{staticClass:\"header no_login\"},[_c('div',{staticClass:\"loginbtn\",on:{\"click\":function($event){return _vm.$router.push({path : '/login'})}}},[_c('img',{staticClass:\"mobile_img\",attrs:{\"src\":require(\"@/assets/mobile.png\")}}),_c('span',{staticClass:\"mobile_span\"},[_vm._v(\"登录 / 注册\")])])]),_c('van-grid',{attrs:{\"column-num\":2,\"clickable\":\"\"}},[_c('van-grid-item',{staticClass:\"flex_gird\",attrs:{\"to\":\"/layout/collent\"}},[_c('van-icon',{staticClass:\"iconfont icon-shoucang gird_icon color_sc\",attrs:{\"slot\":\"icon\"},slot:\"icon\"}),_c('span',{attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(\"收藏\")])],1),_c('van-grid-item',{staticClass:\"flex_gird\"},[_c('van-icon',{staticClass:\"iconfont icon-lishi gird_icon color_ls\",attrs:{\"slot\":\"icon\"},slot:\"icon\"}),_c('span',{attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(\"历史\")])],1)],1),_c('van-cell-group',[_c('van-cell',{staticClass:\"cells\",attrs:{\"title\":\"消息通知\",\"is-link\":\"\"}}),_c('van-cell',{staticClass:\"cells\",attrs:{\"title\":\"小思同学\",\"to\":\"/chat\",\"is-link\":\"\"}})],1),(_vm.user)?_c('van-cell',{staticClass:\"cells quit_login\",attrs:{\"title\":\"退出登录\",\"clickable\":\"\"},on:{\"click\":_vm.onQuitLogin}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n      <!-- 头部--已登录 -->\n      <div class=\"header user_login\" v-if=\"user\">\n         <div class=\"base_info\">\n           <div class=\"left\">\n             <van-image\n                round\n                fit=\"cover\"\n                class=\"headphoto\"\n                :src=\"userInfo.photo\"\n              />\n              <span>{{userInfo.name}}</span>\n           </div>\n           <div class=\"right\">\n             <van-button round size=\"mini\" class=\"edit\" to=\"/userprofile\">编辑资料</van-button>\n           </div>\n         </div>\n         <div class=\"data_statis\">\n           <div class=\"data_item\">\n             <span class=\"count\">{{userInfo.art_count}}</span>\n             <span class=\"text\">头条</span>\n           </div>\n           <div class=\"data_item\">\n             <span class=\"count\">{{userInfo.follow_count}}</span>\n             <span class=\"text\">关注</span>\n           </div>\n           <div class=\"data_item\">\n             <span class=\"count\">{{userInfo.fans_count}}</span>\n             <span class=\"text\">粉丝</span>\n           </div>\n           <div class=\"data_item\">\n             <span class=\"count\">{{userInfo.like_count}}</span>\n             <span class=\"text\">获赞</span>\n           </div>\n         </div>\n      </div>\n\n      <!-- 头部--未登录 -->\n      <div class=\"header no_login\" v-else>\n        <div class=\"loginbtn\" @click=\"$router.push({path : '/login'})\">\n          <img class=\"mobile_img\" src=\"~@/assets/mobile.png\">\n          <span class=\"mobile_span\">登录 / 注册</span>\n        </div>\n      </div>\n\n      <!-- 宫格导航 -->\n      <van-grid :column-num=\"2\" clickable>\n        <van-grid-item class=\"flex_gird\" to=\"/layout/collent\">\n          <van-icon slot=\"icon\" class=\"iconfont icon-shoucang gird_icon color_sc\"/>\n          <span slot=\"text\">收藏</span>\n        </van-grid-item>\n        <van-grid-item class=\"flex_gird\">\n          <van-icon slot=\"icon\" class=\"iconfont icon-lishi gird_icon color_ls\" />\n          <span slot=\"text\">历史</span>\n        </van-grid-item>\n      </van-grid>\n\n      <!-- 单元格 -->\n      <van-cell-group >\n        <van-cell class=\"cells\" title=\"消息通知\" is-link/>\n        <van-cell class=\"cells\" title=\"小思同学\" to=\"/chat\" is-link/>\n      </van-cell-group>\n      <van-cell v-if=\"user\" class=\"cells quit_login\" title=\"退出登录\" @click=\"onQuitLogin\" clickable/>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { getUserInfo } from '@/api/user.js'\nexport default {\n  name : 'My',\n  data () {\n    return {\n      userInfo : {}\n    }\n  },\n  computed: {\n    ...mapState(['user'])\n  },\n  created () {\n    if (this.user) {\n      this.getOnlyUser()\n    }\n  },\n  methods: {\n    onQuitLogin() {\n      //在组件中 是需要使用 this.$dialog 来调用弹出框组件\n      this.$dialog.confirm({\n        title: '确认退出吗？',\n      })\n        .then(() => {\n          // 点击确认执行这里\n          // 确认退出是需要退出状态，也就是清除“user中+本地存储”的token数据\n          this.$store.commit('setUser', null)\n          this.$store.commit('setUserInfo', null)\n          localStorage.removeItem('refresh_token')\n        })\n        .catch(() => {\n          // 点击取消执行这里\n        });\n    },\n    async getOnlyUser() {\n      try {\n        const {data} = await getUserInfo()\n        console.log(data)\n        this.userInfo = data.data\n        this.$store.commit('setUserInfo', data.data)\n        // console.log(this.userInfo) \n      } catch(err) {\n        console.log('获取失败', err)\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.header {\n  height: 366px;\n  // 在src下任何的文件使用路径@都指向的是src，但是css中要使用@的话需要在全面加上～符号\n  background: url(~@/assets/banner.png);\n  background-size: cover;\n}\n\n.no_login {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .loginbtn {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    .mobile_img {\n      width: 132px;\n      height: 132px;\n      margin-bottom: 15px;\n    }\n    .mobile_span {\n      font-size: 28px;\n      color: #ffffff;\n    }\n  }\n}\n\n.user_login {\n  .base_info {\n    height: 231px;\n    padding: 81px 32px 18px;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .left {\n      display: flex;\n      align-items: center;\n      .headphoto {\n        width: 132px;\n        height: 132px;\n        border: 1px solid white;\n      }\n      span {\n        font-size: 30px;\n        color: #ffffff;\n        margin-left: 22px;\n      }\n    }\n    .right {\n      display: flex;\n      align-items: center;\n      .edit {\n        width: 132px;\n        height: 33px;\n        line-height: 33px;\n        font-size: 20px;\n        color: #666666;\n      }\n    }\n  }\n  .data_statis {\n    display: flex;\n    .data_item {\n      height: 135px;\n      display: flex;\n      flex: 1;\n      justify-content: center;\n      flex-direction: column;\n      align-items: center;\n      color: #ffffff;\n      .count {\n        font-size: 36px;\n        margin-bottom: 10px;\n      }\n      .text {\n        font-size: 23px;\n      }\n    }\n  }\n}\n\n.van-grid {\n  margin-bottom: 9px;\n  .flex_gird {   \n    height: 141px;\n    .gird_icon {\n      font-size: 45px;\n    }\n    .color_sc {\n      color: #eb5253;\n    }\n    .color_ls {\n      color: #ff9d1d;\n    }\n    span {\n      margin-top: 10px;\n      font-size: 28px;\n    }\n  }\n}\n\n.van-cell-group {\n  .cells {\n    height: 100px;\n    font-size: 30px;\n    color: #333333;\n  }\n}\n.quit_login {\n    height: 104px;\n    margin-top: 9px;\n    text-align: center;\n    color: #d86262;\n    font-size: 30px;\n  }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0794c6cf&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0794c6cf&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0794c6cf\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","userInfo","photo","_v","_s","name","art_count","follow_count","fans_count","like_count","on","$event","$router","push","path","slot","onQuitLogin","_e","staticRenderFns","data","computed","created","user","getOnlyUser","methods","$dialog","confirm","title","then","localStorage","catch","async","console","log","$store","commit","err","component"],"sourceRoot":""}